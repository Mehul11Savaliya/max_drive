<!doctype html>
<html lang="en">
  
<!-- Live share page -->
<head>
    <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <title>MaxDrive | Favorites</title>
      
   <!-- Favicon -->
   <link rel="shortcut icon" href="/assets/images/favicon.ico" />
       
   <link rel="stylesheet" href="/assets/css/backend-plugin.min.css">
   <link rel="stylesheet" href="/assets/css/backende209.css?v=1.0.0">

    <!-- new Vendors -->
    <link rel="stylesheet" href="/assets/vendor/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="/assets/vendor/fontawesome/css/solid.css">

    
    <link rel="stylesheet" href="/assets/vendor/bootstrap/bootstrap-grid.min.css">
    <script defer src="/assets/vendor/bootstrap/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/assets/vendor/datatable/min.css">
    <link rel="stylesheet" href="/assets/vendor/datatable/responsive.dataTables.min.css">
    <script src="/assets/vendor/jquery/min.js"></script>


    <!-- <link rel="stylesheet" href="/assets/vendor/timeline-master/style.css"> -->

    <script src="/assets/vendor/socketio/socket.io.min.js"></script>
     <!-- new Vendors -->
    </head>
  <body class=" color-light ">
    <!-- loader Start -->
    <div id="loading">
          <div id="loading-center">
          </div>
    </div>
    <!-- loader END -->

    <!-- nav scriot -->
    <script>
        var fav_page  = true;
    </script>
    <!-- nav scriot -->

    <!-- Wrapper Start -->
    <div class="wrapper">
      
        <%-include('components/sidebar.ejs',{}) -%>
            <div class="iq-top-navbar">
                <%-include('components/header.ejs',{}) -%>
      </div>
      <div class="content-page">
      <div class="container-fluid">
         <div class="row">
            <div class="col-lg-12">
               <table id="example" class="table" style="width:100%">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Action</th>
                        <th>Size(MB)</th>
                    </tr>
                </thead>
                <tbody></tbody>
                </table>
                <script>
                  var to=20,fromx=0;
                 $(document).ready(async function() {
                     table = $('#example').DataTable({
                             "footer": true,
                             "scrollY": "450px",
                             "scrollCollapse": true,
                               responsive: true,
                               "paging": false,
                              "pageLength": 10,
                              "lengthMenu": [10],
                              "createdRow" : function( row, data, index ) {
                               
    row.id = "row-" + data[1];
}
                               });
                            
                           await populate_files_table(fromx,to)
       
                                // Get a reference to the DataTable's scrolling container
    var scrollingContainer = $('#example').closest('.dataTables_scrollBody');


// Add a scroll event listener to the scrolling container
let offset = 250;
scrollingContainer.on('scroll',async function() {
    var scrollPosition = scrollingContainer.scrollTop();
    // console.log(scrollPosition);
    to = 10;
    if (scrollPosition >= offset) {
       fromx += 10+1;
    await   populate_files_table(fromx,to);
        offset+=offset;
        // scrollPosition +=5;
    }
});
});

                            
                </script>
            </div>
         </div>
      </div>
      </div>
    </div>
    <!-- Wrapper End-->
    <%-include('components/footer.ejs',{}) -%>
    <!-- Backend Bundle JavaScript -->
    <script src="/assets/js/backend-bundle.min.js"></script>
    
    <!-- Chart Custom JavaScript -->
    <script src="/assets/js/customizer.js" defer></script>
    
   
    <!-- new vandor -->
    <script src="/assets/vendor/datatable/min.js"></script>
    <script src="/assets/vendor/datatable/datatables.responsive.min.js"></script>
    <!-- new vandor -->

    <!-- app JavaScript -->
    <script src="/assets/js/app.js" defer></script>
    <script src="/assets/js/doc-viewer.js" defer></script>

  </body>

<!-- page live share -->
</html>